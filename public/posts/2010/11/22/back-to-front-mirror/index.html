<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" type="image/png" href="http://localhost:1313/favicon.ico" />
<meta property="og:url" content="http://localhost:1313/posts/2010/11/22/back-to-front-mirror/">
  <meta property="og:site_name" content="tenbulls blog">
  <meta property="og:title" content="Understanding Database Mirroring modes of operation">
  <meta property="og:description" content="SQL Server database mirroring was obviously a great feature first introduced in SQL 2005 and will improve even further in the next big release (Denali) but quite surprising to me is how drastically the order in which the transactions are committed differ between both modes of operation.
To recap, there are two types of mirroring (High Performance and High Safety) so lets look at exactly how these two types work.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2010-11-22T14:13:00+01:00">
    <meta property="article:modified_time" content="2010-11-22T14:13:00+01:00">

<title>tenbulls blog | Understanding Database Mirroring modes of operation</title>

    <link rel="stylesheet" href="/css/main.css">
      <link rel="stylesheet" href="/css/palette/default.css">

      <script src="/js/main.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body
    class="dark"
>
  
  <main>
    
  <div class="container pt-5">
    <div class="row mt-5 pt-5">
      
  <nav aria-label="breadcrumb" class="small navbar navbar-expand-lg">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleMenu" aria-controls="collapsibleMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse mt-3 mt-md-0" id="collapsibleMenu">
      <ol class="breadcrumb fw-bold">
    <li class="breadcrumb-item my-1 my-md-0 ms-3 ms-md-0">
      <a href="/about"
        
      >about</a>
      
    </li>
    <li class="breadcrumb-item my-1 my-md-0 ms-3 ms-md-0">
      <a href="/"
        
      >home</a>
      
    </li>
    <li class="breadcrumb-item my-1 my-md-0 ms-3 ms-md-0">
      <a href="https://www.meetup.com/hybrid-virtual-group/"
        
          target="_blank" rel="noopener noreferrer"
        
      >meetup</a>
      
    </li>
    <li class="breadcrumb-item my-1 my-md-0 ms-3 ms-md-0">
      <a href="/posts"
        class="text-decoration-underline link-offset-3"
        
      >posts</a>
      
    </li>
    <li class="breadcrumb-item my-1 my-md-0 ms-3 ms-md-0">
      <a href="/tags"
        
      >tags</a>
      
    </li>
      </ol>
    </div>
  </nav>

    </div>
    <div class="post">
      <header class="mb-4">
        <h1 class="text-uppercase">Understanding Database Mirroring modes of operation</h1>
        
        
        <div aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item small">
              
              <time datetime="2010-11-22T14:13:00&#43;01:00">November 22, 2010</time>
            </li>
            
            
            <li class="breadcrumb-item small">
              3 minutes
            </li>
          </ol>
        </div>
      </header>
      
      <article>
        <p>SQL Server database mirroring was obviously a great feature first introduced in SQL 2005 and will improve even further in the next big release (Denali) but quite surprising to me is how drastically the order in which the transactions are committed differ between both modes of operation.</p>
<p>To recap, there are two types of mirroring (High Performance and High Safety) so lets look at exactly how these two types work.</p>
<h1 id="high-performance">High Performance</h1>
<p>In order for database mirroring to be achieved, high performance sends transactions asynchronously and this is the order of events:</p>
<ol>
<li>The client application sends a transaction to the principal server which then writes it to the transaction log and commits it.</li>
<li>The principal sends an acknowledgement back to the client application.</li>
<li>The principal then sends the transaction to the mirror who writes an entry to the transaction log.</li>
<li>The mirror then contacts the principal to acknowledge the transaction and then commits it.</li>
</ol>
<p><em>Note that since these first two steps are identical on a database with or without mirroring, you can appreciate why this operation is fast and has little impact to the speed of transactions on the principal.</em></p>
<p><img src="/images/2010/hope.jpg" alt="Objects in the mirror are closer than they appear"></p>
<h1 id="high-safety">High Safety</h1>
<p>High Safety mode is considered to be a synchronous level of mirroring and the order of events are as follows:</p>
<ol>
<li>The client application sends a transaction to the principal server and then writes it to the transaction log.</li>
<li>The principal then sends the transaction to the mirror who writes and entry to the transaction log.</li>
<li>The mirror then contacts the principal to acknowledge the transaction, the principal subsequently sends an acknowledgement back to the client application.</li>
<li>The principal commits the transaction and then the mirror commits the transaction.</li>
</ol>
<p>I think the biggest surprise to me really is that in High Safety mode, because the transaction on the primary is committed only after the mirror initiated handshake you are actually reducing the probability of a successful commit for any given transaction (due to the dependency on the mirror). So although in High Safety the principal and mirror would be transactionally in sync, <em>I personally believe this is another reason why High Performance should be preferred in nearly all situations</em>.</p>
<h1 id="conclusion">Conclusion</h1>
<p>I should also add that for the different modes of operation (especially High Safety), depending upon the information source you refer to, the exact mechanism and in particular (for High Safety step 4) the order each server&rsquo;s transaction is committed is a little ambiguous to say the least. The following url titled <a href="https://msdn.microsoft.com/en-us/library/ms179344.aspx">Synchronous Database Mirroring (High-Safety Mode)</a> from Books Online also leaves a little too much open to interpretation.</p>
<p>For further information on Database Mirroring best practices, please refer to this rather good white paper titled <a href="https://technet.microsoft.com/en-gb/library/cc917681.aspx">Database Mirroring Best Practices and Performance Considerations</a> from the SQL CAT team.</p>

      </article>
      

      <div class="row">
    <div class="col-md">
        
        <a href="http://localhost:1313/posts/2010/10/27/nxtgenug-guerrilla-tactics-review/">
            <span>previous: </span>
            <span>NxtGenUG Guerrilla tactics presentation review</span>
        </a>
        
    </div>
    <div class="col-md text-md-end">
        
        <a href="http://localhost:1313/posts/2010/11/23/disk-partition-alignment/">
            <span>next: </span>
            <span>Understanding disk partition alignment</span>
        </a>
        
    </div>
</div>
      
    </div>
  </div>
  <footer>
    <div class="container mt-4 pb-1">
    <p class="small opacity-75">
        Copyright Â© 2026 Mark Broadbent
        
    </p>
</div>

  </footer>

  </main>

  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
